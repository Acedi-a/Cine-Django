{% extends "base.html" %}

{% block title %}Cine Aster{% endblock %}

{% block content %}
<style>
  .carousel-container {
    width: 80%;
    max-width: 800px;
    margin: auto;
  }

  .carousel-inner img {
    width: 100%;
    height: auto;
  }

  .carousel-item {
    display: flex;
    flex-direction: column;
    align-items: center;
  }
</style>

<!-- Carrusel -->
<div id="movieCarousel" class="carousel-container carousel slide" data-bs-ride="carousel">
  <div class="carousel-inner">
    {% for pelicula in peliculas %}
    <div class="carousel-item {% if forloop.first %}active{% endif %}">
      <div class="media-box" data-movie-id="{{ pelicula.id }}">
        <a href="" class="full-click"></a>
        <div class="media-thumb" style="background-image: url('{{ pelicula.Portada.url }}');"></div>
        <!-- Start media-play -->
        <a href="" class="media-play">
          <i class="icofont-ui-play"></i>
        </a>
        <!-- Start rate-quality-info -->
        <div class="rate-quality-info">
          <span class="media-badge bg-dark">HD</span>
          <span class="rate icofont-star">Rating</span>
        </div>
        <div class="media-info">
          <a href="" class="media-box-category">
            <i class="icofont-video-alt"></i>
            {% for genero in pelicula.Genero.all %}
              {{ genero }}
              {% if not forloop.last %}, {% endif %}
            {% endfor %}
          </a>
          <h5 class="media-box-title">{{ pelicula.Titulo }}</h5>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
  <!-- Controles del carrusel -->
  <a class="carousel-control-prev" href="#movieCarousel" role="button" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </a>
  <a class="carousel-control-next" href="#movieCarousel" role="button" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </a>
</div>

<!-- Incluye los scripts de Bootstrap para el carrusel si es necesario -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
{% endblock %}
